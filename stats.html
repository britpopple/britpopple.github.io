<!DOCTYPE html>
<html lang="en"><head>
    <!-- Google Tag Manager -->
    <script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-3QSG4MYSLD&amp;cx=c&amp;gtm=45He56p1v889909564za200&amp;tag_exp=101509157~103116026~103200004~103233427~103308216~103308218~103351869~103351871~104684208~104684211~104718208~104784387~104784389~104885889~104885891"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-S5NWXV1WRC&amp;cx=c&amp;gtm=45He56p1v889909564za200&amp;tag_exp=101509157~103116026~103200004~103233427~103308216~103308218~103351869~103351871~104684208~104684211~104718208~104784387~104784389~104885889~104885891"></script><script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-TN36K9L"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TN36K9L');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Britpopple - Stats</title>
    
    <link rel="canonical" href="https://britpopple.glitch.me/">

    <link rel="icon" type="image/png" href="https://cdn.glitch.global/2a57b98e-3725-4c9e-b256-cd92b4479a11/britpop-square.png?v=1658052540695">
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.glitch.global/2a57b98e-3725-4c9e-b256-cd92b4479a11/britpop-square.png?v=1658052540695">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.glitch.global/2a57b98e-3725-4c9e-b256-cd92b4479a11/britpop-square.png?v=1658052540695">
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.glitch.global/2a57b98e-3725-4c9e-b256-cd92b4479a11/britpop-square.png?v=1658052540695">
    <link rel="shortcut icon" href="https://cdn.glitch.global/2a57b98e-3725-4c9e-b256-cd92b4479a11/britpop-square.png?v=1658052540695">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="bundle.css">

    <script>
      if (location.protocol != "https:") {
        location.href =
          "https:" +
          window.location.href.substring(window.location.protocol.length);
      }
    </script>

  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN36K9L"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
  

  <main class="bg-custom-bg text-custom-fg overflow-auto flex flex-col" style="height: 1079px;">
    <div class="flex-none">
      <header class="border-b border-custom-line">
        <div class="max-w-screen-md mx-auto ">
          <div class="flex justify-evenly text-custom-fgcolor p-3 items-center">
            <div class="flex flex-1">
            </div>
            <h1 class="font-serif text-3xl font-bold flex-grow text-center flex-2">Britpopple</h1>
            <div class="flex flex-1 justify-end">
            </div>
          </div>
        </div>
      </header>
    </div>
  <br><br>
  <div class="max-w-screen-sm w-full mx-auto h-full flex flex-col justify-between overflow-auto">  
    <div class="bg-custom-bg border border-custom-mg p-6">
      <div class="flex items-center justify-center mb-6">
        <div class="flex-1 pl-7">
          <h2 class="text-sm text-center uppercase text-custom-line font-semibold tracking-widest">Manage your stats</h2>
        </div>
      </div>
      <div>
        <div class="flex items-center mb-6">
          <div class="mr-4 w-8 text-custom-line">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
          </div> 
          <div>
            <p>Download and backup your Britpopple stats</p>
          </div>
        </div>
        <div class="justify-center flex py-2 mb-6">
          <button onclick="downloadLocalStorage()" class="px-2 py-2 uppercase tracking-widest border-none flex items-center font-semibold text-sm svelte-1r54uzk bg-custom-positive">Download My Stats</button>          
        </div>
        <div class="flex items-center mb-6">
          <div class="mr-4 w-8 text-custom-line">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-7"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
          </div> 
          <div>
            <p>Upload and restore your Britpopple stats</p>
          </div>
        </div>
        <div class="justify-center flex py-2">
          <button onclick="promptRestore()" class="px-2 py-2 uppercase tracking-widest border-none flex items-center font-semibold text-sm svelte-1r54uzk bg-custom-positive">Upload My Stats</button>          
        </div>
        <div class="flex items-center mb-6">
          <div class="mr-4 w-8 text-custom-line">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-7 w-7"><circle cx="5.5" cy="17.5" r="2.5"></circle><circle cx="17.5" cy="15.5" r="2.5"></circle><path d="M8 17V5l12-2v12"></path></svg>
          </div> 
          <div>
            <p>Play the game!</p>
          </div>
        </div>
        <div class="justify-center flex py-2 mt-2">
          <a href="/" class="px-2 py-2 uppercase tracking-widest border-none flex items-center font-semibold text-sm svelte-1r54uzk bg-custom-positive">Play <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h13M12 5l7 7-7 7"></path></svg></a>
        </div>
      </div>
    </div>
  </div>
    
  <br><br>

  </main>
  <script>
    function downloadLocalStorage() {
      const data = {};

      // Collect all localStorage items
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        data[key] = localStorage.getItem(key);
      }

      const json = JSON.stringify(data, null, 2);
      const blob = new Blob([json], { type: 'application/json' });
      const url = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.href = url;
      a.download = 'Britpopple-stats.json';
      a.click();

      URL.revokeObjectURL(url);
    }

    function promptRestore() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/json';

      input.onchange = (event) => {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function (e) {
          try {
            const data = JSON.parse(e.target.result);
            for (const key in data) {
              localStorage.setItem(key, data[key]);
            }
            alert("Britpopple stats restored successfully!");
          } catch (err) {
            alert("Invalid JSON file: " + err.message);
          }
        };

        reader.readAsText(file);
      };

      input.click();
    }
  </script>
</body>
</html>
